@tailwind base;
@tailwind components;
@tailwind utilities;

/* ───────────────────────────────────────────────────────────
   Root / Base
   ─────────────────────────────────────────────────────────── */
:root {
    scrollbar-gutter: stable;
}

html,
body,
#root {
    height: 100%;
}

body {
    @apply text-textMain antialiased bg-transparent;
}

html {
    overflow-y: scroll;
}

/* ───────────────────────────────────────────────────────────
   Layout helpers
   ─────────────────────────────────────────────────────────── */
.container-edge {
    @apply mx-auto max-w-7xl px-4 sm:px-6 lg:px-8;
}

.section {
    @apply py-14 md:py-20;
}

.card,
.card-surface {
    @apply bg-surface/80 backdrop-blur border border-white/5 shadow-card rounded-2xl;
}

.card-pad {
    @apply p-5;
}

.card-pad-lg {
    @apply p-6;
}

.page-shell {
    @apply px-4 pb-12;
}

.page-header {
    @apply flex items-center justify-between mb-4;
}

.page-title {
    @apply text-xl font-extrabold;
}

.grid-3 {
    @apply grid gap-5 md:grid-cols-3;
}

.grid-2 {
    @apply grid gap-6 md:grid-cols-2;
}

.mt-section {
    @apply mt-8;
}

.space-stack>*+* {
    @apply mt-5;
}

.stack>*+* {
    @apply mt-5;
}

.toolbar-bottom {
    @apply flex items-center justify-end gap-2 pt-2;
}

.card-head {
    @apply flex items-center justify-between mb-3;
}

.card-title {
    @apply font-extrabold;
}

.card-strip {
    @apply px-4 py-3 border-b border-white/10 text-sm text-white/70;
}

.card-strip.between {
    @apply flex items-center justify-between;
}

/* ───────────────────────────────────────────────────────────
   Buttons & badges
   ─────────────────────────────────────────────────────────── */
.btn {
    @apply inline-flex items-center justify-center font-bold rounded-xl h-11 px-5;
}

.btn-sm {
    @apply h-8 px-3 rounded-lg text-sm;
}

.btn-primary {
    @apply bg-primary hover:bg-primaryAccent text-white;
}

.btn-outline {
    @apply border border-white/10 bg-transparent text-textMain hover:bg-white/5;
}

.badge {
    @apply inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold bg-white/10 text-textSub;
}

.icon-btn {
    @apply h-8 w-8 inline-grid place-items-center rounded-lg hover:bg-white/10;
}

/* ───────────────────────────────────────────────────────────
   Text helpers
   ─────────────────────────────────────────────────────────── */
.text-muted {
    @apply text-white/80;
}

.text-muted-xs {
    @apply text-xs text-white/60;
}

.text-success {
    @apply text-emerald-400 text-sm;
}

.text-error {
    @apply text-rose-400 text-sm;
}

.subtle-link {
    @apply text-sm underline opacity-80 hover:opacity-100;
}

.row-link {
    @apply font-medium hover:text-primary;
}

.row-sub {
    @apply text-xs text-white/60 mt-0.5 leading-5;
}

.kpi-card:hover {
    @apply bg-white/5;
    transition: background-color .15s;
}

.kpi-label {
    @apply text-textSub text-sm;
}

.kpi-value {
    @apply text-3xl font-black mt-1;
}

.list {
    @apply divide-y divide-white/10;
}

.list-row {
    @apply flex items-center justify-between py-3 hover:bg-white/5 px-2 rounded-lg;
}

.empty-note {
    @apply text-white/70 text-sm py-2;
}

/* ───────────────────────────────────────────────────────────
   Tables
   ─────────────────────────────────────────────────────────── */
@layer components {
    .table {
        @apply w-full text-sm;
    }

    .table thead th {
        @apply text-left text-xs font-semibold tracking-wide uppercase text-white/60 py-3 px-5;
    }

    .table tbody tr {
        @apply border-t border-white/5;
    }

    .table tbody td {
        @apply py-3 px-5 align-middle;
    }

    .table-row-hover:hover {
        @apply bg-white/5;
    }

    .actions-head {
        @apply w-[10%] text-right pr-4;
    }

    .actions-cell {
        @apply text-right whitespace-nowrap pr-4;
    }

    .w-42 {
        width: 42%;
    }

    .w-34 {
        width: 34%;
    }

    .w-24 {
        width: 24%;
    }

    .w-20 {
        width: 20%;
    }
}

.empty-cell {
    @apply text-white/70 py-6 px-5;
}

.row-edit td {
    @apply p-4 bg-white/5;
}

/* ───────────────────────────────────────────────────────────
   Forms
   ─────────────────────────────────────────────────────────── */
input,
select,
textarea {
    @apply w-full rounded-xl bg-white/5 border border-white/10 px-4 h-11;
}

textarea,
.form-textarea {
    @apply h-40 py-3 resize-y;
}

.form-textarea-sm {
    @apply h-28 py-3 resize-y;
}

.form-narrow {
    @apply max-w-xl space-y-4;
}

.form-wide {
    @apply max-w-2xl space-y-4;
}

.form-stack>*+* {
    @apply mt-4;
}

.form-grid-2 {
    @apply grid gap-4 md:grid-cols-2;
}

.form-grid-3 {
    @apply grid gap-3 md:grid-cols-3;
}

.form-span-2 {
    grid-column: 1 / -1;
}

.form-actions {
    @apply pt-1 flex items-center gap-3;
}

.mt-tight {
    @apply mt-4;
}

.form-label {
    @apply text-xs text-white/65 mb-1;
}

.filters-grid {
    @apply card-pad;
    display: grid;
    gap: .75rem;
}

@media (min-width:768px) {
    .filters-grid {
        grid-template-columns: 1fr 200px;
    }
}

/* Avatar fallback */
.avatar-fallback {
    display: inline-grid;
    place-items: center;
    background: linear-gradient(135deg, rgba(255, 255, 255, .18), rgba(255, 255, 255, .06));
    color: rgba(255, 255, 255, .9);
    font-weight: 800;
    letter-spacing: .25px;
}

/* Compact profile button */
.profile-chip {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 2.25rem;
    width: 2.25rem;
    border-radius: 9999px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .04);
    backdrop-filter: blur(10px);
    transition: transform .12s ease, background .15s ease, box-shadow .15s ease;
}

.profile-chip:hover {
    background: rgba(255, 255, 255, .08);
    box-shadow: 0 8px 24px rgba(0, 0, 0, .25);
}

.profile-chip:active {
    transform: scale(.98);
}

/* User dropdown (glassy card) */
.user-menu {
    position: absolute;
    top: 2.75rem;
    right: 0;
    min-width: 240px;
    padding: .75rem;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: radial-gradient(90rem 90rem at top right, rgba(255, 255, 255, .08), rgba(255, 255, 255, .04)), rgba(10, 10, 12, .55);
    backdrop-filter: blur(16px);
    box-shadow: 0 10px 40px rgba(0, 0, 0, .35);
    transform-origin: top right;
    transition: transform .14s ease, opacity .14s ease;
    z-index: 60;
}

/* Dropdown items */
.menu-item {
    display: flex;
    align-items: center;
    gap: .55rem;
    width: 100%;
    padding: .6rem .55rem;
    margin-top: .35rem;
    border-radius: 12px;
    font-weight: 600;
    font-size: .92rem;
    color: rgba(255, 255, 255, .92);
    background: transparent;
    border: 1px solid transparent;
    transition: background .15s ease, border-color .15s ease;
}

.menu-item:hover {
    background: rgba(255, 255, 255, .06);
    border-color: rgba(255, 255, 255, .12);
}

.menu-item.danger {
    color: #ffb3b3;
}

.menu-item.danger:hover {
    background: rgba(255, 68, 68, .12);
    border-color: rgba(255, 68, 68, .25);
}

/* Optional shared glass card (e.g., feedback) */
.glass-card {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: radial-gradient(90rem 90rem at top left, rgba(255, 255, 255, .07), rgba(255, 255, 255, .03)), rgba(10, 10, 12, .55);
    backdrop-filter: blur(18px);
    box-shadow: 0 18px 60px rgba(0, 0, 0, .38);
}

/* Liquid canvas container */
.liquid-ether-container {
    position: relative;
    overflow: hidden;
    width: 100%;
    height: 100%;
    touch-action: none;
}